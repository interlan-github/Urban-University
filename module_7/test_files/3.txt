Но чисто вспомнить как это делается, идея неплохая
На практике кривой подход никому это не надо.
как Как туд Для верности еще раз напишем SOLR